# @generated by ci-gen, do not edit

on:
    - push
    - pull_request
name: CI
jobs:
    runtime-tokio:
        name: runtime-tokio ${{ matrix.channel }}
        runs-on: ubuntu-latest
        strategy:
            matrix:
                channel:
                    - stable
                    - beta
                    - nightly
        steps:
            - name: Checkout sources
              uses: actions/checkout@v2
            - name: Install toolchain
              uses: actions-rs/toolchain@v1
              with:
                  profile: minimal
                  toolchain: ${{ matrix.channel }}
                  override: true
            - name: cargo test api
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=api/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test api-test
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=api-test/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test ci-gen
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=ci-gen/Cargo.toml
            - name: cargo test examples
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=examples/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test impl-native-tls
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-native-tls/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test impl-openssl
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-openssl/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test impl-rustls
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-rustls/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test impl-stub
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-stub/Cargo.toml --no-default-features --features=runtime-tokio
            - name: cargo test interop
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=interop/Cargo.toml --no-default-features --features=runtime-tokio
    runtime-async-std:
        name: runtime-async-std ${{ matrix.channel }}
        runs-on: ubuntu-latest
        strategy:
            matrix:
                channel:
                    - stable
                    - beta
                    - nightly
        steps:
            - name: Checkout sources
              uses: actions/checkout@v2
            - name: Install toolchain
              uses: actions-rs/toolchain@v1
              with:
                  profile: minimal
                  toolchain: ${{ matrix.channel }}
                  override: true
            - name: cargo test api
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=api/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test api-test
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=api-test/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test ci-gen
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=ci-gen/Cargo.toml
            - name: cargo test examples
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=examples/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test impl-native-tls
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-native-tls/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test impl-openssl
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-openssl/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test impl-rustls
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-rustls/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test impl-stub
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=impl-stub/Cargo.toml --no-default-features --features=runtime-async-std
            - name: cargo test interop
              uses: actions-rs/cargo@v1
              with:
                  command: test
                  args: --manifest-path=interop/Cargo.toml --no-default-features --features=runtime-async-std
